{% load i18n %}

{# This template has the feature for setting language #}
{% get_current_language as LANGUAGE_CODE %}
{% get_available_languages as LANGUAGES %}
{% get_language_info_list for LANGUAGES as languages %}

{% for language in languages %}
<form class="languageform" action="{% url 'set_language' %}" method="post">{% csrf_token %}
    <input name="next" type="hidden" value="{{ redirect_to }}" />
    <input name="language" type="hidden" value="{{ language.code }}" />
    {% if language.code == 'en' %}
    <input type="image" src="{{ STATIC_URL }}images/flags/32/GB.png" width="32" alt="{{ language.code }}" {% if not LANGUAGE_CODE == 'en' %}style="filter:opacity(50%);"{% endif %} />
    {% else %}
    <input type="image" src="{{ STATIC_URL }}images/flags/32/{{ language.code|upper }}.png" width="32" alt="{{ language.code }}"  {% if not language.code == LANGUAGE_CODE %}style="filter:opacity(50%);"{% endif %} />
    {% endif %}
</form>
{% endfor %}