{% extends "baselayout.html" %}
{% load i18n %}

{% block extrahead %}

    <script type="text/javascript" src="{{ STATIC_URL }}js/jquery-1.11.0.min.js"></script>
    <link href="//vjs.zencdn.net/4.5/video-js.css" rel="stylesheet">
    <script src="//vjs.zencdn.net/4.5/video.js"></script>

 
 
{% endblock %}
{% block extrajs %}
<script type='text/javascript'>
/* reveal a comment, possibly including a video */
togglecomment = function() {
  if ($(this).hasClass('showing')) {
    $(this).next('.commentbody').hide();
    $(this).removeClass('showing');
    $(this).find('.indicator').removeClass('ui-icon-minus').addClass('ui-icon-plus');
  } else {
    $(this).next('.commentbody').show();
    $(this).addClass('showing');
    $(this).find('.indicator').removeClass('ui-icon-plus').addClass('ui-icon-minus');
  }
};

jQuery(document).ready(function(){
 
    $('.commenthead').click(togglecomment);
	
	$('.commentbody').hide();
 
	$('.delete').confirm({
	    msg:'Delete this comment?',
	    timeout:3000
	});	
 
});
</script>
{% endblock %}




{% block content %}
    {# Translators: Header3 #}
  <h3>{% blocktrans %}General Feedback{% endblocktrans %}</h3>
  
  {% for fb in general %}
    <div class="panel-group" id="general{fb.id}">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h4 class="panel-title">
              {{fb.date|date:"d M Y"}}: {{fb.user.first_name}} {{fb.user.last_name}} |
            <a data-toggle="collapse" data-parent="#signfb{{fb.id}}" href="#gencollapse{{fb.id}}">{# Translators:  #}
               {% blocktrans %}View{% endblocktrans %}
            </a>
          </h4> 
        </div>
        <div id="gencollapse{{fb.id}}" class="panel-collapse collapse">
  
        {% if fb.video %}  
        <div class="videocontainer">
            <video id='genfbvid{{fb.id}}' class='video-js vjs-default-skin' 
               poster='{{posterurl}}' controls  preload='false' data-setup='{"example_option":true}'>
                <source src='{{ MEDIA_URL }}{{ fb.video }}' type='video/mp4' codecs='avc1.42E01E, mp4a.40.2'></source>
            </video>
            {# Translators: Link #}
            <p><a href='{{ MEDIA_URL }}{{ fb.video }}'>{% blocktrans %}Download video{% endblocktrans %}</a><br>{# Translators:  #}
                {% blocktrans %}(if video does not play here you may be able to play by downloading){% endblocktrans %}</p>
        </div>

        
        {% endif %}
      
	    <p>{{fb.comment}}</p>
     
       <form action="/feedback/general/delete/{{fb.id}}" method="post"><p>
           {% csrf_token %}
            {# Translators: Submit button #}
           <input class='delete btn btn-default' type='submit' value='{% blocktrans %}Delete Comment{% endblocktrans %}'>
           </p></form>

       </div> 
      </div>
     </div>
  {% endfor %} 

    {# Translators: Header3 #}
  <h3>{% blocktrans %}Sign Feedback{% endblocktrans %}</h3>
  
  {% for fb in signfb %} 
    <div class="panel-group" id="sign{fb.id}">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h4 class="panel-title">
              {{fb.date|date:"d M Y"}}: {{fb.user.first_name}} {{fb.user.last_name}} |
            <a data-toggle="collapse" data-parent="#signfb{{fb.id}}" href="#signcollapse{{fb.id}}">{# Translators:  #}
               {% blocktrans %}View{% endblocktrans %}
            </a>
          </h4> 
        </div>
        <div id="signcollapse{{fb.id}}" class="panel-collapse collapse">

        {# Translators: Link to a sign #}
        <p><strong>{% blocktrans %}Sign:{% endblocktrans %}</strong> <a href="{% url 'root_page' %}dictionary/gloss/{{fb.translation.gloss.idgloss}}.html">{{fb.translation.gloss.idgloss}}</a></p>

        {# Translators:  #}
        <p><strong>{% blocktrans %}Comment:{% endblocktrans %}</strong> {{fb.comment}}</p>
        {# Translators:  #}
        <p><strong>{% blocktrans %}Don't Belong:{% endblocktrans %}</strong> {{fb.kwnotbelong}}</p>
        <!--
        <ul>  
    	<li>Auslan Sign: {{fb.get_isAuslan_display}}</li>
    	<li>Where Used: {{fb.get_whereused_display}}</li>
    	<li>Liked: {{fb.get_like_display}}</li>
    	<li>Used: {{fb.get_use_display}}</li>
    	<li>Use Suggested: {{fb.get_suggested_display}}</li>
    	<li>Correct: {{fb.get_correct_display}}</li>
        
        </ul>
        -->      
        <form action="/feedback/sign/delete/{{fb.id}}" method="post"><p>
           {% csrf_token %}
            {# Translators: Submit button #}
           <input class='delete btn btn-default' type='submit' value='{% blocktrans %}Delete Comment{% endblocktrans %}'>
           </p> </form>

     
        </div> 
       </div>
     </div>
  {% endfor %}

    {# Translators: Header3 #}
  <h3>{% blocktrans %}Missing Sign Feedback{% endblocktrans %}</h3>
  {% for fb in missing %} 
    
    <div class="panel-group" id="missing{fb.id}">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h4 class="panel-title">
              {{fb.date|date:"d M Y"}}: {{fb.user.first_name}} {{fb.user.last_name}} |
            <a data-toggle="collapse" data-parent="#missing{{fb.id}}" href="#missingcollapse{{fb.id}}">{# Translators:  #}
               {% blocktrans %}View{% endblocktrans %}
            </a>
          </h4> 
        </div>
        <div id="missingcollapse{{fb.id}}" class="panel-collapse collapse">

        {# Translators: Preceding an email address #}
        <p>{% blocktrans %}Email:{% endblocktrans %} <a href="mailto:{{fb.user.email}}">{{fb.user.email}}</a></p>
        {% if fb.video %}  
        <div class="videocontainer">
            <video id='msfb{{fb.id}}' class='video-js vjs-default-skin' 
               poster='{{posterurl}}' controls preload='false' data-setup='{"example_option":true}'>
                <source src='{{ MEDIA_URL }}{{ fb.video }}' type='video/mp4' codecs='avc1.42E01E, mp4a.40.2'></source>
            </video>
            {# Translators: Download link #}
            <p><a href='{{ MEDIA_URL }}{{ fb.video }}'>{% blocktrans %}Download video{% endblocktrans %}</a><br>{# Translators: Instructions if video does not play #}
                {% blocktrans %}(if video does not play here you may be able to play by downloading){% endblocktrans %}</p>
         </div>
        {% endif %}
    
         <dl class='dl-horizontal'>
          {# Translators: Gloss information #}
             <dt>{% blocktrans %}Handform{% endblocktrans %}</dt><dd>{{fb.get_handform_display}}</dd>
          {# Translators: Gloss information #}
             <dt>{% blocktrans %}Handshape{% endblocktrans %}</dt><dd>{{fb.get_handshape_display}}</dd>
          {# Translators: Gloss information #}
             <dt>{% blocktrans %}Alternate Handshape{% endblocktrans %}</dt><dd>{{fb.get_althandshape_display}}</dd>
          {# Translators: Gloss information #}
             <dt>{% blocktrans %}Location{% endblocktrans %}</dt><dd>{{fb.get_location_display}}</dd>
          {# Translators: Gloss information #}
             <dt>{% blocktrans %}Relative Location{% endblocktrans %}</dt><dd>{{fb.get_relativelocation_display}}</dd>
          {# Translators: Gloss information #}
             <dt>{% blocktrans %}Hand Body Contact{% endblocktrans %}</dt><dd>{{fb.get_handbodycontact_display}}</dd>
          {# Translators: Gloss information #}
             <dt>{% blocktrans %}Hand Interaction{% endblocktrans %}</dt><dd>{{fb.get_handinteraction_display}}</dd>
          {# Translators: Gloss information #}
             <dt>{% blocktrans %}Direction{% endblocktrans %}</dt><dd>{{fb.get_direction_display}}</dd>
          {# Translators: Gloss information #}
             <dt>{% blocktrans %}Movement Type{% endblocktrans %}</dt><dd>{{fb.movementtype}}</dd>
          {# Translators: Gloss information #}
             <dt>{% blocktrans %}Small Movement{% endblocktrans %}</dt><dd>{{fb.smallmovement}}</dd>
          {# Translators: Gloss information #}
             <dt>{% blocktrans %}Repetition{% endblocktrans %}</dt><dd>{{fb.repetition}}</dd>
          {# Translators: Gloss information #}
             <dt>{% blocktrans %}Meaning{% endblocktrans %}</dt><dd>{{fb.meaning}}</dd>
          {# Translators: Gloss information #}
             <dt>{% blocktrans %}Comments{% endblocktrans %}</dt><dd>{{fb.comments}}</dd>
         </dl>
     
         <form action="/feedback/missingsign/delete/{{fb.id}}" method="post"><p>
           {% csrf_token %}
            {# Translators: Submit button #}
           <input class='delete btn btn-default' type='submit' value='{% blocktrans %}Delete Comment{% endblocktrans %}'>
         </p></form>

 
      </div>
     </div>
    </div>
          
  {% endfor %} 

{% endblock %}